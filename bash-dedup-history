#!/bin/sh
#
# Remove duplicates in history file.

sed 's:^[[:space:][:cntrl:]]*::' "${HISTFILE:?}" |
sed 's:[[:space:][:cntrl:]]*$::' |
nl |
sort -u -k 2 |
sort -n |
cut -f 2 > "$HISTFILE~";

mv -- "${HISTFILE:?}~" "$HISTFILE";

# vim: set ft=sh :
